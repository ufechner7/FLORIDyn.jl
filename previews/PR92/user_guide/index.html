<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>User Guide · FLORIDyn.jl</title><meta name="title" content="User Guide · FLORIDyn.jl"/><meta property="og:title" content="User Guide · FLORIDyn.jl"/><meta property="twitter:title" content="User Guide · FLORIDyn.jl"/><meta name="description" content="Documentation for FLORIDyn.jl."/><meta property="og:description" content="Documentation for FLORIDyn.jl."/><meta property="twitter:description" content="Documentation for FLORIDyn.jl."/><meta property="og:url" content="https://ufechner7.github.io/FLORIDyn.jl/dev/user_guide/"/><meta property="twitter:url" content="https://ufechner7.github.io/FLORIDyn.jl/dev/user_guide/"/><link rel="canonical" href="https://ufechner7.github.io/FLORIDyn.jl/dev/user_guide/"/><meta property="og:image" content="https://ufechner7.github.io/FLORIDyn.jl/dev/assets/preview.png"/><meta property="twitter:image" content="https://ufechner7.github.io/FLORIDyn.jl/dev/assets/preview.png"/><meta property="twitter:card" content="summary_large_image"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="FLORIDyn.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">FLORIDyn.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../types/">Exported Types</a></li><li><a class="tocitem" href="../functions/">Low-Level Functions</a></li><li><a class="tocitem" href="../functions_II/">High-Level Functions</a></li><li><a class="tocitem" href="../settings/">Settings</a></li><li><a class="tocitem" href="../video_creation/">Video Creation</a></li><li class="is-active"><a class="tocitem" href>User Guide</a><ul class="internal"><li><a class="tocitem" href="#Installation-of-FLORIDyn"><span>Installation of FLORIDyn</span></a></li><li><a class="tocitem" href="#Launching-Julia"><span>Launching Julia</span></a></li><li><a class="tocitem" href="#Multithreading"><span>Multithreading</span></a></li><li><a class="tocitem" href="#Multitasking"><span>Multitasking</span></a></li><li><a class="tocitem" href="#Running-the-examples"><span>Running the examples</span></a></li><li><a class="tocitem" href="#Creating-a-new-project"><span>Creating a new project</span></a></li><li><a class="tocitem" href="#Running-a-custom-simulation"><span>Running a custom simulation</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../developer/">Developer notes</a></li><li><a class="tocitem" href="../faq/">FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>User Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>User Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ufechner7/FLORIDyn.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ufechner7/FLORIDyn.jl/blob/main/docs/src/user_guide.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="User-Guide"><a class="docs-heading-anchor" href="#User-Guide">User Guide</a><a id="User-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#User-Guide" title="Permalink"></a></h1><p>This page contains information for users of FLORIDyn.jl.</p><h2 id="Installation-of-FLORIDyn"><a class="docs-heading-anchor" href="#Installation-of-FLORIDyn">Installation of FLORIDyn</a><a id="Installation-of-FLORIDyn-1"></a><a class="docs-heading-anchor-permalink" href="#Installation-of-FLORIDyn" title="Permalink"></a></h2><p>Installation is explained in the section <a href="../#Installation">Installation</a>.</p><h2 id="Launching-Julia"><a class="docs-heading-anchor" href="#Launching-Julia">Launching Julia</a><a id="Launching-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Launching-Julia" title="Permalink"></a></h2><h3 id="Launching-Julia-in-the-global-environment"><a class="docs-heading-anchor" href="#Launching-Julia-in-the-global-environment">Launching Julia in the global environment</a><a id="Launching-Julia-in-the-global-environment-1"></a><a class="docs-heading-anchor-permalink" href="#Launching-Julia-in-the-global-environment" title="Permalink"></a></h3><p>Just type <code>julia</code>.</p><pre><code class="language-julia hljs">   _       _ _(_)_     |  Documentation: https://docs.julialang.org
  (_)     | (_) (_)    |
   _ _   _| |_  __ _   |  Type &quot;?&quot; for help, &quot;]?&quot; for Pkg help.
  | | | | | | |/ _` |  |
  | | |_| | | | (_| |  |  Version 1.11.6 (2025-07-09)
 _/ |\__&#39;_|_|_|\__&#39;_|  |  Official https://julialang.org/ release
|__/                   |

julia&gt;</code></pre><p>Press <code>]</code> and then type <code>st</code> to see the active environment and its packages:</p><pre><code class="nohighlight hljs">(@v1.11) pkg&gt; st
Status `~/.julia/environments/v1.11/Project.toml`
  [23c2ee80] ControlPlots v0.2.7
  [fab6aee4] DistributedNext v1.1.0
  [5903a43b] Infiltrator v1.9.2
  [16fef848] LiveServer v1.5.0
  [5f6e1e16] LocalCoverage v0.8.3
  [295af30f] Revise v3.8.1
  [0c614874] TerminalPager v0.6.4
  [1e6cf692] TestEnv v1.102.1
  [21f18d07] Timers v0.1.5</code></pre><p>Remove unused packages with <code>rm &lt;PACKAGE_NAME&gt;</code>. Update outdated packages with <code>up</code>. Leave package mode with Backspace (←) and quit Julia with <code>Ctrl+D</code>.</p><h3 id="Launching-Julia-in-the-local-environment"><a class="docs-heading-anchor" href="#Launching-Julia-in-the-local-environment">Launching Julia in the local environment</a><a id="Launching-Julia-in-the-local-environment-1"></a><a class="docs-heading-anchor-permalink" href="#Launching-Julia-in-the-local-environment" title="Permalink"></a></h3><h4 id="Standard-way"><a class="docs-heading-anchor" href="#Standard-way">Standard way</a><a id="Standard-way-1"></a><a class="docs-heading-anchor-permalink" href="#Standard-way" title="Permalink"></a></h4><p>Open a terminal in the project folder and type <code>julia --project</code>. Enter package mode (<code>]</code>) and you should see:</p><pre><code class="nohighlight hljs">(FLORIDyn) pkg&gt; st
Project FLORIDyn v0.1.0
Status `~/repos/FLORIDyn.jl/Project.toml`
  [336ed68f] CSV v0.10.15
  [a93c6f00] DataFrames v1.7.0
  [8bb1440f] DelimitedFiles v1.9.1
  [fab6aee4] DistributedNext v1.1.0
  [ffbed154] DocStringExtensions v0.9.5
  [a98d9a8b] Interpolations v0.16.1
  [033835bb] JLD2 v0.5.15
  [b964fa9f] LaTeXStrings v1.4.0
  [d96e819e] Parameters v0.12.3
⌅ [aea7be01] PrecompileTools v1.2.1
  [90137ffa] StaticArrays v1.9.14
  [10745b16] Statistics v1.11.1
  [7c3b921d] StructMapping v0.2.3
  [ddb6d928] YAML v0.4.14
  [37e2e46d] LinearAlgebra v1.11.0
  [56ddb016] Logging v1.11.0
  [44cfe95a] Pkg v1.11.0
  [de0858da] Printf v1.11.0
  [9a3f8284] Random v1.11.0
Info Packages marked with ⌅ have new versions available but compatibility constraints restrict them from upgrading. To see why use `status --outdated`</code></pre><h4 id="Advanced-way"><a class="docs-heading-anchor" href="#Advanced-way">Advanced way</a><a id="Advanced-way-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-way" title="Permalink"></a></h4><p>Starting Julia via a helper script can be faster and more consistent. Two scripts are provided:</p><ul><li><code>./bin/run_julia</code>: Checks for missing dependencies and starts Julia with 11 threads (adjust to your CPU’s fast cores).</li><li><code>./bin/run_julia2</code>: Same check, starts Julia single-threaded.</li></ul><p>Create aliases:</p><p>Linux / Windows (bash):</p><pre><code class="language-bash hljs">alias jl=&#39;./bin/run_julia&#39;
alias jl2=&#39;./bin/run_julia2&#39;
source ~/.bashrc</code></pre><p>macOS (zsh or bash):</p><pre><code class="language-bash hljs">alias jl=&#39;./bin/run_julia&#39;
alias jl2=&#39;./bin/run_julia2&#39;
source ~/.zshrc          # for zsh
# or
source ~/.bash_profile   # for bash</code></pre><p>Now run multi-threaded with <code>jl</code> or single-threaded with <code>jl2</code>.</p><h2 id="Multithreading"><a class="docs-heading-anchor" href="#Multithreading">Multithreading</a><a id="Multithreading-1"></a><a class="docs-heading-anchor-permalink" href="#Multithreading" title="Permalink"></a></h2><p>Modern CPUs have multiple cores. Threading lets independent loop iterations run in parallel using <code>Threads.@threads</code>. Only use it when iterations don’t depend on previous results. Threads share memory; immutable / read-only inputs can be shared; each thread needs separate mutable buffers. Writing to disjoint slices of an output array is thread-safe without locks.</p><p>If parallel functions allocate heavily, garbage collection pressure grows with thread count, limiting scaling unless allocation is reduced.</p><p>Currently only <a href="../functions_II/#FLORIDyn.getMeasurements">getMeasurements</a> uses multithreading; it can speed up the simulation (with flow-field calculation) by about 4–5×.</p><h2 id="Multitasking"><a class="docs-heading-anchor" href="#Multitasking">Multitasking</a><a id="Multitasking-1"></a><a class="docs-heading-anchor-permalink" href="#Multitasking" title="Permalink"></a></h2><p>Running a simulation with online visualization in the same process is problematic: GUI updates cost time and the visualization library isn’t thread-safe. Therefore a second process handles visualization. It is started up-front (adds ~5 seconds time-to-first-plot). The line <code>@spawnat 2 Main.rmt_plot_flow_field(wf, X, Y, Z, vis; msr=msr)</code> runs the remote plotting function on process 2 and transfers the needed data efficiently.</p><h2 id="Running-the-examples"><a class="docs-heading-anchor" href="#Running-the-examples">Running the examples</a><a id="Running-the-examples-1"></a><a class="docs-heading-anchor-permalink" href="#Running-the-examples" title="Permalink"></a></h2><p>Start Julia with one of the scripts, then call <code>menu()</code>:</p><pre><code class="nohighlight hljs">julia&gt; menu()

Choose function to execute or `q` to quit:
 &gt; select_project();                  print(CLEAR_SCR)
   select_measurement();              print(CLEAR_SCR)
   &quot;plot_flow_field&quot;;                 PLT=1; include(&quot;main.jl&quot;)
   &quot;plot_measurements&quot;;               PLT=4; include(&quot;main.jl&quot;)
   &quot;plot_measurements_lineplot&quot;;      PLT=5; include(&quot;main.jl&quot;)
   &quot;flow_field_vel_reduction_online&quot;; PLT=6; include(&quot;main.jl&quot;)
   &quot;create_video_from_saved_frames&quot;;  PLT=7; include(&quot;main.jl&quot;)
   &quot;run_all_visualisations&quot;;          include(&quot;main_all.jl&quot;)
   &quot;read_results&quot;;                    include(&quot;read_results.jl&quot;)
   &quot;plot_wind_direction&quot;;             include(&quot;plot_wind_dir.jl&quot;)
   &quot;play_videos&quot;;                     include(&quot;play_video.jl&quot;)
   open_documentation()
   quit</code></pre><p>First select a project and a measurement. Then pick a visualization with the cursor keys and press Enter. Some examples aren’t in the menu; run them with <code>include(&quot;examples/&lt;EXAMPLE&gt;.jl&quot;)</code>. </p><h2 id="Creating-a-new-project"><a class="docs-heading-anchor" href="#Creating-a-new-project">Creating a new project</a><a id="Creating-a-new-project-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-new-project" title="Permalink"></a></h2><p><code>data/projects.yaml</code>:</p><pre><code class="language-yaml hljs">projects:
  - project:
      name: 2021_9T_Data
      description: A reference simulation with 9 turbines
      settings: 2021_9T_Data.yaml
      vis: vis_default.yaml
  - project:
      name: 2021_9T_Data_full
      description: 9 turbines, no visualization, full output incl. 3 videos
      settings: 2021_9T_Data.yaml
      vis: vis_full_9T.yaml
  - project:
      name: 2021_54T_NordseeOne
      description: A reference simulation with 54 turbines
      settings: 2021_54T_NordseeOne.yaml
      vis: vis_54T.yaml</code></pre><p>Add a new project by combining a <code>settings</code> file and a <code>vis</code> (visualization) file. To create a custom visualization file, copy an existing <code>vis_*.yaml</code>, rename it, adjust its content, and add a project entry. Then select it via <code>menu()</code>.</p><h2 id="Running-a-custom-simulation"><a class="docs-heading-anchor" href="#Running-a-custom-simulation">Running a custom simulation</a><a id="Running-a-custom-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Running-a-custom-simulation" title="Permalink"></a></h2><p>Steps:</p><ol><li>Copy an existing settings YAML file in <code>data/</code> and give it a meaningful name.   The file <code>turbine_specs.yaml</code> need not be copied; just append new turbine definitions if needed.</li><li>Modify the settings YAML as required (follow inline comments).</li><li>Create a subfolder (named like the settings file, without extension) and copy all required CSV files.</li><li>Generate or update the CSV files.</li><li>Add a new project entry (see previous section).</li><li>Use <code>menu()</code> to run the simulation and visualize results.</li></ol><h3 id="Optional"><a class="docs-heading-anchor" href="#Optional">Optional</a><a id="Optional-1"></a><a class="docs-heading-anchor-permalink" href="#Optional" title="Permalink"></a></h3><ol><li>Copy <code>main_mini.jl</code> and adapt it.</li><li>Run it with <code>include(&quot;examples/&lt;my_script&gt;.jl&quot;)</code>.</li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../video_creation/">« Video Creation</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 25 September 2025 10:10">Thursday 25 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
