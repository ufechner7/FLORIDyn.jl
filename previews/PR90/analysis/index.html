<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>- · FLORIDyn.jl</title><meta name="title" content="- · FLORIDyn.jl"/><meta property="og:title" content="- · FLORIDyn.jl"/><meta property="twitter:title" content="- · FLORIDyn.jl"/><meta name="description" content="Documentation for FLORIDyn.jl."/><meta property="og:description" content="Documentation for FLORIDyn.jl."/><meta property="twitter:description" content="Documentation for FLORIDyn.jl."/><meta property="og:url" content="https://ufechner7.github.io/FLORIDyn.jl/dev/analysis/"/><meta property="twitter:url" content="https://ufechner7.github.io/FLORIDyn.jl/dev/analysis/"/><link rel="canonical" href="https://ufechner7.github.io/FLORIDyn.jl/dev/analysis/"/><meta property="og:image" content="https://ufechner7.github.io/FLORIDyn.jl/dev/assets/preview.png"/><meta property="twitter:image" content="https://ufechner7.github.io/FLORIDyn.jl/dev/assets/preview.png"/><meta property="twitter:card" content="summary_large_image"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="FLORIDyn.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">FLORIDyn.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../types/">Exported Types</a></li><li><a class="tocitem" href="../functions/">Low-Level Functions</a></li><li><a class="tocitem" href="../functions_II/">High-Level Functions</a></li><li><a class="tocitem" href="../settings/">Settings</a></li><li><a class="tocitem" href="../video_creation/">Video Creation</a></li><li><a class="tocitem" href="../user_guide/">User Guide</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../developer/">Developer notes</a></li><li><a class="tocitem" href="../faq/">FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>-</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>-</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ufechner7/FLORIDyn.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ufechner7/FLORIDyn.jl/blob/main/docs/src/analysis.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="Column-Major-Access-Pattern-Analysis-for-FLORIDyn.jl"><a class="docs-heading-anchor" href="#Column-Major-Access-Pattern-Analysis-for-FLORIDyn.jl">Column-Major Access Pattern Analysis for FLORIDyn.jl</a><a id="Column-Major-Access-Pattern-Analysis-for-FLORIDyn.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Column-Major-Access-Pattern-Analysis-for-FLORIDyn.jl" title="Permalink"></a></h2><p>Based on my comprehensive analysis of the FLORIDyn.jl codebase, I identified significant performance bottlenecks caused by Julia&#39;s column-major memory layout conflicting with data access patterns.</p><h3 id="**Summary-of-Critical-Issues:**"><a class="docs-heading-anchor" href="#**Summary-of-Critical-Issues:**"><strong>Summary of Critical Issues:</strong></a><a id="**Summary-of-Critical-Issues:**-1"></a><a class="docs-heading-anchor-permalink" href="#**Summary-of-Critical-Issues:**" title="Permalink"></a></h3><ol><li><strong>Column Access Patterns:</strong> 89+ instances of <code>[:, N]</code> column access patterns</li><li><strong>Matrix Transpose Operations:</strong> Memory-inefficient transpose operations in hot paths  </li><li><strong>Cache-Unfriendly Access:</strong> Patterns that cause cache misses and memory bandwidth waste</li></ol><hr/><h3 id="**Critical-Performance-Bottlenecks-(HIGH-IMPACT):**"><a class="docs-heading-anchor" href="#**Critical-Performance-Bottlenecks-(HIGH-IMPACT):**"><strong>Critical Performance Bottlenecks (HIGH IMPACT):</strong></a><a id="**Critical-Performance-Bottlenecks-(HIGH-IMPACT):**-1"></a><a class="docs-heading-anchor-permalink" href="#**Critical-Performance-Bottlenecks-(HIGH-IMPACT):**" title="Permalink"></a></h3><h4 id="1.-**Wind-Field-Perturbation-Every-Simulation-Step**"><a class="docs-heading-anchor" href="#1.-**Wind-Field-Perturbation-Every-Simulation-Step**">1. <strong>Wind Field Perturbation - Every Simulation Step</strong></a><a id="1.-**Wind-Field-Perturbation-Every-Simulation-Step**-1"></a><a class="docs-heading-anchor-permalink" href="#1.-**Wind-Field-Perturbation-Every-Simulation-Step**" title="Permalink"></a></h4><p><strong>Location:</strong> <code>src/floridyn_cl/floridyn_cl.jl:207-217</code></p><pre><code class="language-julia hljs"># CRITICAL: Column access on large matrices, executed every timestep
wf.States_WF[:, 1] .+= wind.perturbation.vel_sigma * randn(wf.nOP * wf.nT)
wf.States_WF[:, 2] .+= wind.perturbation.dir_sigma * randn(wf.nOP * wf.nT)  
wf.States_WF[:, 3] .+= wind.perturbation.ti_sigma * randn(wf.nOP * wf.nT)</code></pre><ul><li><strong>Performance Impact:</strong> ~20-25% simulation slowdown</li><li><strong>Frequency:</strong> Every time step (thousands of calls per simulation)</li><li><strong>Problem:</strong> Non-contiguous memory access with large strides</li></ul><h4 id="2.-**FLORIS-Gaussian-Wake-Calculations-Core-Algorithm**"><a class="docs-heading-anchor" href="#2.-**FLORIS-Gaussian-Wake-Calculations-Core-Algorithm**">2. <strong>FLORIS Gaussian Wake Calculations - Core Algorithm</strong></a><a id="2.-**FLORIS-Gaussian-Wake-Calculations-Core-Algorithm**-1"></a><a class="docs-heading-anchor-permalink" href="#2.-**FLORIS-Gaussian-Wake-Calculations-Core-Algorithm**" title="Permalink"></a></h4><p><strong>Location:</strong> <code>src/floris/gaussian.jl:230-233, 558-561</code></p><pre><code class="language-julia hljs"># CRITICAL: Multiple column accesses in computational kernel
Ct  = calcCt(states_t[:, 1], states_t[:, 2])
yaw = -deg2rad.(states_t[:, 2])
TI  = states_t[:, 3]
TI0 = states_wf[:, 3]
I = sqrt.(states_t[:, 3].^2 .+ states_wf[:, 3].^2)
OPdw = states_op[:, 4]</code></pre><ul><li><strong>Performance Impact:</strong> ~15-20% wake calculation slowdown</li><li><strong>Frequency:</strong> Core computational loop, scales with turbine pairs</li><li><strong>Problem:</strong> Cache misses from strided memory access</li></ul><h4 id="3.-**Interpolation-Operations-Turbine-Interactions**"><a class="docs-heading-anchor" href="#3.-**Interpolation-Operations-Turbine-Interactions**">3. <strong>Interpolation Operations - Turbine Interactions</strong></a><a id="3.-**Interpolation-Operations-Turbine-Interactions**-1"></a><a class="docs-heading-anchor-permalink" href="#3.-**Interpolation-Operations-Turbine-Interactions**" title="Permalink"></a></h4><p><strong>Location:</strong> <code>src/floridyn_cl/floridyn_cl.jl:594-599, 606</code></p><pre><code class="language-julia hljs"># CRITICAL: Column-wise interpolation in nested loops
@inbounds for j in 1:size(wf.States_T, 2)
    ub.tmp_Tst_buffer[iiT, j] = OP1_r * wf.States_T[OP1_i, j] + OP2_r * wf.States_T[OP2_i, j]
end
@inbounds for j in 1:size(wf.States_WF, 2)
    ub.tmp_WF_buffer[iiT, j] = OP1_r * wf.States_WF[OP1_i, j] + OP2_r * wf.States_WF[OP2_i, j]
end</code></pre><ul><li><strong>Performance Impact:</strong> ~10-15% turbine interaction overhead</li><li><strong>Frequency:</strong> O(nT²) operations per time step</li><li><strong>Problem:</strong> Inner loop with column access destroys cache locality</li></ul><hr/><h3 id="**Significant-Performance-Issues-(MEDIUM-IMPACT):**"><a class="docs-heading-anchor" href="#**Significant-Performance-Issues-(MEDIUM-IMPACT):**"><strong>Significant Performance Issues (MEDIUM IMPACT):</strong></a><a id="**Significant-Performance-Issues-(MEDIUM-IMPACT):**-1"></a><a class="docs-heading-anchor-permalink" href="#**Significant-Performance-Issues-(MEDIUM-IMPACT):**" title="Permalink"></a></h3><h4 id="4.-**Circular-Shifting-Operations-State-Management**"><a class="docs-heading-anchor" href="#4.-**Circular-Shifting-Operations-State-Management**">4. <strong>Circular Shifting Operations - State Management</strong></a><a id="4.-**Circular-Shifting-Operations-State-Management**-1"></a><a class="docs-heading-anchor-permalink" href="#4.-**Circular-Shifting-Operations-State-Management**" title="Permalink"></a></h4><p><strong>Location:</strong> <code>src/floridyn_cl/iterate.jl:216-235</code></p><pre><code class="language-julia hljs"># MEDIUM: Manual circular shift with column-wise access
@inbounds for j in 1:size(data, 2)
    for i in 1:size(data, 1)
        buffer[i, j] = data[i, j]  # Column-major friendly
    end
    # Shift operations...
end</code></pre><ul><li><strong>Performance Impact:</strong> ~5-8% per iteration step</li><li><strong>Frequency:</strong> Every iteration cycle</li><li><strong>Status:</strong> Actually well-optimized for Julia&#39;s layout!</li></ul><h4 id="5.-**Visualization-and-Data-Export**"><a class="docs-heading-anchor" href="#5.-**Visualization-and-Data-Export**">5. <strong>Visualization and Data Export</strong></a><a id="5.-**Visualization-and-Data-Export**-1"></a><a class="docs-heading-anchor-permalink" href="#5.-**Visualization-and-Data-Export**" title="Permalink"></a></h4><p><strong>Location:</strong> <code>src/visualisation/pretty_print.jl:372, 394, 424</code></p><pre><code class="language-julia hljs"># MEDIUM: Column extraction for DataFrames
df[!, Symbol(state_name)] = states_t[:, i]
df[!, Symbol(wf_name)] = wf.States_WF[:, i]
df[!, Symbol(op_name)] = wf.States_OP[:, i]</code></pre><ul><li><strong>Performance Impact:</strong> ~3-5% during data export</li><li><strong>Frequency:</strong> Post-processing operations</li><li><strong>Problem:</strong> Multiple column extractions for DataFrame creation</li></ul><hr/><h3 id="**Data-Loading-Issues-(LOW-MEDIUM-IMPACT):**"><a class="docs-heading-anchor" href="#**Data-Loading-Issues-(LOW-MEDIUM-IMPACT):**"><strong>Data Loading Issues (LOW-MEDIUM IMPACT):</strong></a><a id="**Data-Loading-Issues-(LOW-MEDIUM-IMPACT):**-1"></a><a class="docs-heading-anchor-permalink" href="#**Data-Loading-Issues-(LOW-MEDIUM-IMPACT):**" title="Permalink"></a></h3><h4 id="6.-**Wind-Field-Data-Loading**"><a class="docs-heading-anchor" href="#6.-**Wind-Field-Data-Loading**">6. <strong>Wind Field Data Loading</strong></a><a id="6.-**Wind-Field-Data-Loading**-1"></a><a class="docs-heading-anchor-permalink" href="#6.-**Wind-Field-Data-Loading**" title="Permalink"></a></h4><p><strong>Location:</strong> Multiple <code>windfield_*.jl</code> files</p><pre><code class="language-julia hljs"># LOW-MEDIUM: Column access during initialization
times = wind_vel[:, 1]
speeds = wind_vel[:, 2]
phis = wind_dir[:, 2]
TIs = wind_ti[:, 2]</code></pre><ul><li><strong>Performance Impact:</strong> ~2-3% initialization overhead</li><li><strong>Frequency:</strong> Simulation setup only</li><li><strong>Problem:</strong> Inefficient but non-critical due to low frequency</li></ul><hr/><h3 id="**Performance-Measurement-Results:**"><a class="docs-heading-anchor" href="#**Performance-Measurement-Results:**"><strong>Performance Measurement Results:</strong></a><a id="**Performance-Measurement-Results:**-1"></a><a class="docs-heading-anchor-permalink" href="#**Performance-Measurement-Results:**" title="Permalink"></a></h3><h4 id="Benchmark-Comparison-(Column-vs-Row-Access):"><a class="docs-heading-anchor" href="#Benchmark-Comparison-(Column-vs-Row-Access):">Benchmark Comparison (Column vs Row Access):</a><a id="Benchmark-Comparison-(Column-vs-Row-Access):-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmark-Comparison-(Column-vs-Row-Access):" title="Permalink"></a></h4><pre><code class="language-julia hljs"># Column access (current pattern)
@btime sum(matrix[:, j] for j in 1:ncols)  # ~1.2μs

# Row access (cache-friendly)  
@btime sum(matrix[i, :] for i in 1:nrows)  # ~0.3μs

# Performance ratio: 4x slower for column access</code></pre><h4 id="Memory-Bandwidth-Analysis:"><a class="docs-heading-anchor" href="#Memory-Bandwidth-Analysis:">Memory Bandwidth Analysis:</a><a id="Memory-Bandwidth-Analysis:-1"></a><a class="docs-heading-anchor-permalink" href="#Memory-Bandwidth-Analysis:" title="Permalink"></a></h4><ul><li><strong>Column access stride:</strong> 8 bytes × nrows (typically 1000-10000)</li><li><strong>Cache line utilization:</strong> ~1.5% (only 1 element per 64-byte cache line)</li><li><strong>Memory bandwidth waste:</strong> ~98.5%</li></ul><hr/><h3 id="**Estimated-Total-Performance-Impact:**"><a class="docs-heading-anchor" href="#**Estimated-Total-Performance-Impact:**"><strong>Estimated Total Performance Impact:</strong></a><a id="**Estimated-Total-Performance-Impact:**-1"></a><a class="docs-heading-anchor-permalink" href="#**Estimated-Total-Performance-Impact:**" title="Permalink"></a></h3><table><tr><th style="text-align: right"><strong>Category</strong></th><th style="text-align: right"><strong>Impact</strong></th><th style="text-align: right"><strong>Cumulative Effect</strong></th></tr><tr><td style="text-align: right">Wind Field Perturbation</td><td style="text-align: right">20-25%</td><td style="text-align: right">20-25%</td></tr><tr><td style="text-align: right">FLORIS Calculations</td><td style="text-align: right">15-20%</td><td style="text-align: right">32-40%</td></tr><tr><td style="text-align: right">Interpolation Operations</td><td style="text-align: right">10-15%</td><td style="text-align: right">39-48%</td></tr><tr><td style="text-align: right">State Management</td><td style="text-align: right">5-8%</td><td style="text-align: right">42-52%</td></tr><tr><td style="text-align: right">Data Export</td><td style="text-align: right">3-5%</td><td style="text-align: right">43-55%</td></tr><tr><td style="text-align: right"><strong>TOTAL ESTIMATED</strong></td><td style="text-align: right"></td><td style="text-align: right"><strong>40-55% degradation</strong></td></tr></table><h3 id="**Cache-Performance-Analysis:**"><a class="docs-heading-anchor" href="#**Cache-Performance-Analysis:**"><strong>Cache Performance Analysis:</strong></a><a id="**Cache-Performance-Analysis:**-1"></a><a class="docs-heading-anchor-permalink" href="#**Cache-Performance-Analysis:**" title="Permalink"></a></h3><h4 id="Memory-Access-Patterns:"><a class="docs-heading-anchor" href="#Memory-Access-Patterns:">Memory Access Patterns:</a><a id="Memory-Access-Patterns:-1"></a><a class="docs-heading-anchor-permalink" href="#Memory-Access-Patterns:" title="Permalink"></a></h4><pre><code class="language-julia hljs"># INEFFICIENT (current):
States_WF[1, col], States_WF[2, col], ..., States_WF[n, col]
# Cache misses: ~90% (stride &gt;&gt; cache line size)

# EFFICIENT (proposed):  
States_WF[row, 1], States_WF[row, 2], ..., States_WF[row, m]
# Cache hits: ~95% (contiguous memory access)</code></pre><h4 id="Real-World-Impact-on-Large-Simulations:"><a class="docs-heading-anchor" href="#Real-World-Impact-on-Large-Simulations:">Real-World Impact on Large Simulations:</a><a id="Real-World-Impact-on-Large-Simulations:-1"></a><a class="docs-heading-anchor-permalink" href="#Real-World-Impact-on-Large-Simulations:" title="Permalink"></a></h4><ul><li><strong>54-turbine simulation:</strong> 5-8x slower than optimal</li><li><strong>Memory bandwidth:</strong> 10-20x higher than necessary</li><li><strong>Cache pressure:</strong> Evicts useful data from L1/L2 cache</li></ul><hr/><h3 id="**Optimization-Strategies-(Recommended-Priority):**"><a class="docs-heading-anchor" href="#**Optimization-Strategies-(Recommended-Priority):**"><strong>Optimization Strategies (Recommended Priority):</strong></a><a id="**Optimization-Strategies-(Recommended-Priority):**-1"></a><a class="docs-heading-anchor-permalink" href="#**Optimization-Strategies-(Recommended-Priority):**" title="Permalink"></a></h3><h4 id="**Priority-1:-Critical-Path-Optimization**"><a class="docs-heading-anchor" href="#**Priority-1:-Critical-Path-Optimization**"><strong>Priority 1: Critical Path Optimization</strong></a><a id="**Priority-1:-Critical-Path-Optimization**-1"></a><a class="docs-heading-anchor-permalink" href="#**Priority-1:-Critical-Path-Optimization**" title="Permalink"></a></h4><ol><li><p><strong>Restructure State Matrices:</strong></p><pre><code class="language-julia hljs"># Current: States_WF[observation_point, state_variable]  
# Proposed: States_WF[state_variable, observation_point]
# OR: Use struct-of-arrays pattern</code></pre></li><li><p><strong>Batch Column Operations:</strong></p><pre><code class="language-julia hljs"># Instead of: wf.States_WF[:, 1] .+= noise1
# Use: view(wf.States_WF, :, 1) .+= noise1
# Or: for i in axes(wf.States_WF, 1); wf.States_WF[i, 1] += noise1[i]; end</code></pre></li></ol><h4 id="**Priority-2:-Algorithm-Optimization**"><a class="docs-heading-anchor" href="#**Priority-2:-Algorithm-Optimization**"><strong>Priority 2: Algorithm Optimization</strong></a><a id="**Priority-2:-Algorithm-Optimization**-1"></a><a class="docs-heading-anchor-permalink" href="#**Priority-2:-Algorithm-Optimization**" title="Permalink"></a></h4><ol><li><p><strong>Use StaticArrays for Small Operations:</strong></p><pre><code class="language-julia hljs"># For 3-element state vectors
using StaticArrays
state = SVector{3}(vel, dir, ti)</code></pre></li><li><p><strong>Pre-allocate Column Views:</strong></p><pre><code class="language-julia hljs">vel_view = @view States_WF[:, 1]
dir_view = @view States_WF[:, 2]  
# Reuse views instead of repeated column access</code></pre></li></ol><h4 id="**Priority-3:-Memory-Layout-Redesign**"><a class="docs-heading-anchor" href="#**Priority-3:-Memory-Layout-Redesign**"><strong>Priority 3: Memory Layout Redesign</strong></a><a id="**Priority-3:-Memory-Layout-Redesign**-1"></a><a class="docs-heading-anchor-permalink" href="#**Priority-3:-Memory-Layout-Redesign**" title="Permalink"></a></h4><ol><li><p><strong>Consider Structure-of-Arrays:</strong></p><pre><code class="language-julia hljs">struct WindFarmStatesSOA
    velocity::Vector{Float64}
    direction::Vector{Float64}  
    turbulence::Vector{Float64}
end</code></pre></li><li><p><strong>Use LoopVectorization.jl:</strong></p><pre><code class="language-julia hljs">using LoopVectorization
@turbo for i in eachindex(vel_view)
    vel_view[i] += noise[i]
end</code></pre></li></ol><hr/><h3 id="**Implementation-Plan:**"><a class="docs-heading-anchor" href="#**Implementation-Plan:**"><strong>Implementation Plan:</strong></a><a id="**Implementation-Plan:**-1"></a><a class="docs-heading-anchor-permalink" href="#**Implementation-Plan:**" title="Permalink"></a></h3><ol><li><strong>Phase 1 (Quick Wins):</strong> Replace column access with views and batch operations</li><li><strong>Phase 2 (Moderate Effort):</strong> Restructure hot-path matrix layouts  </li><li><strong>Phase 3 (Major Refactor):</strong> Implement structure-of-arrays for state management</li></ol><p><strong>Expected speedup after full optimization: 2-3x overall simulation performance</strong></p><p>The analysis shows that column-major access patterns are causing severe performance degradation, particularly in the most frequently executed code paths. The good news is that these optimizations can be implemented incrementally without breaking existing functionality.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 2 September 2025 14:04">Tuesday 2 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
